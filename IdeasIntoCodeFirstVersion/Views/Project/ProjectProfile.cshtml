@model IdeasIntoCodeFirstVersion.Models.Project
@{
    ViewBag.Title = "ProjectProfile";
}

<div class="wrapper d-flex align-items-stretch">
    <nav id="sidebar">
        <div class="custom-menu">
            <button type="button" id="sidebarCollapse" class="btn btn-primary">
            </button>
        </div>
        <div class="img bg-wrap text-center py-4" style="background-image: url(images/bg_1.jpg);">
            <div class="user-logo">
                <div class="img" style="background-image: url(images/logo.jpg);"></div>
                <h3>Catriona Henderson</h3>
            </div>
        </div>
        <ul class="list-unstyled components mb-5">
            <li class="active">
                <a href="#"><span class="fa fa-home mr-3"></span> Profile</a>
            </li>
            <li>
                <a href="#" id="Project"><span class="fa fa-download mr-3 notif"><small class="d-flex align-items-center justify-content-center">5</small></span> Project</a>

                <ul id="ProjectList" class="list-unstyled components mb-5">
                    <li>
                        <a href="#"><span class="fa fa-download mr-3 notif"><small class="d-flex align-items-center justify-content-center">5</small></span> Project Owned</a>

                    </li>
                    <li>
                        <a href="#"><span class="fa fa-download mr-3 notif"><small class="d-flex align-items-center justify-content-center">5</small></span> Project Participating</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#"><span class="fa fa-gift mr-3"></span> Message</a>
            </li>
            <li>
                <a href="#"><span class="fa fa-trophy mr-3"></span> Git Hub</a>
            </li>
            <li>
                <a href="#"><span class="fa fa-cog mr-3"></span> Settings</a>
            </li>
            <li>
                <a href="#"><span class="fa fa-support mr-3"></span> Support</a>
            </li>
            <li>
                <a href="#"><span class="fa fa-sign-out mr-3"></span> Sign Out</a>
            </li>
        </ul>

    </nav>

    <!-- Page Content  -->
    <div id="content" class="p-4 p-md-5 pt-5">
        <div class="jumbotron text-center">
            <div class="container">
                <h2 class="mb-4 text-center">Project Name</h2>
                <a href="#" class="btn btn-primary text-center">Join</a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2 ">
                <h3>Description</h3>
            </div>
            <div class="col-md-10">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque quidem delectus dolorem ipsa natus assumenda aliquam tenetur sit sint exercitationem! Est, accusamus suscipit voluptatem exercitationem natus unde quisquam consectetur Lorem ipsum dolor, sit amet consectetur adipisicing elit. Perspiciatis suscipit, laudantium deserunt ad magni laborum hic quibusdam natus voluptate maxime accusantium itaque officia nisi mollitia provident nobis amet autem Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis cumque incidunt at asperiores aspernatur corrupti. Distinctio similique tempore molestiae non suscipit in. Similique neque suscipit quam facere labore exercitationem rerum?</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-2 ">
                <h3>Project Admin</h3>
            </div>
            <div class="col-md-10">

                <img class="rounded-circle" src="images/logo.jpg" style="width: 50px;">
                <small>Name</small>

            </div>
        </div>

        <div class="row">
            <div class="col-md-2 ">
                <h3> Team Members</h3>
            </div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-1 column">

                        <img class="rounded-circle" src="images/logo.jpg" style="width: 50px;">
                        <small>Name</small>

                    </div>

                    <div class="col-md-1 column">
                        <img class="rounded-circle" src="images/logo.jpg" style="width: 50px;">
                        <small>Name</small>

                    </div>
                    <div class="col-md-1 ">
                        <img class="rounded-circle" src="images/logo.jpg" style="width: 50px;">
                        <small>Name</small>

                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading"><h4>Programming Languages</h4></div>
                    <div class="panel-body">
                        <a href="#" class="list-group-item text-danger">c#</a>
                        <a href="#" class="list-group-item text-light   ">Java</a>
                        <a href="#" class="list-group-item text-danger ">Javascript</a>
                        <a href="#" class="list-group-item text-danger">React</a>


                    </div>


                </div>

            </div>
            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading"><h4>Categories</h4></div>
                    <div class="panel-body">
                        <a href="#" class="list-group-item text-danger">Games</a>
                        <a href="#" class="list-group-item text-info">Ententairment</a>
                        <a href="#" class="list-group-item text-muted">Food</a>





                    </div>


                </div>

            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-md-2 ">
                <h3> Status</h3>
            </div>
            <div class="col-md-3">
                <button class="btn btn-default btn-success" disabled="disabled">Active</button>
            </div>
            <div class="col-md-3">
                <button class="btn btn-default btn-secondary" disabled="disabled">Inactive</button>
            </div>
            <div class="col-md-3">
                <button class="btn btn-default btn-primary" disabled="disabled">Completed</button>
            </div>

        </div>
        <hr>
        @*THE DIV UNDERNEATH WILL BE THE COMMENT SECTION*@
        <div class="row ">
            <div class="col-md-4">
                <h2>Comments</h2>
            </div>
            <div id="comments">
                <div class="row">
                    <div class="col-12">
                        <form class="comment-form" method="post" action="">
                            <textarea id="commentText" class="comment-area col-md-12" name="user_comment" placeholder="Write your comment here"></textarea>
                        </form>
                        <button id="submitComment" type="submit" class="btn  btn-primary">Post</button>
                    </div>
                </div>

                @foreach (var comment in Model.Comments)
                {
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-2">
                                <img src="https://image.ibb.co/jw55Ex/def_face.jpg" class="img img-rounded img-fluid" />

                            </div>
                            <div class="col-md-10">
                                <p><strong>@comment.Developer.FullName</strong></p>
                                <p>@comment.Text</p>
                                <p class="text-secondary text-center">@comment.DateAdded</p>

                            </div>
                        </div>
                    </div>
                }
            </div>

        </div>
    </div>
</div>

@section Scripts
{
    <script>
  //append does not work must be fixed
        $(document).ready(function () {
            $("#submitComment").click( function () {

                var newComment = $("#commentText").val();

                $.ajax({
                    url: '@Url.Action("AddComment","Comment")',
                    method: "post",
                    data: { currentProjectID: 1, commentText: newComment, currentUserID: 1 }
                })
                    .done(function () {
                        var text = $("#commentText").val();

                        $("#comments").append('<div class="card-body"> <div class="row"><div class="col-md-2">< img src = "https://image.ibb.co/jw55Ex/def_face.jpg" class= "img img-rounded img-fluid" /> '
                            + ' </div> <div class="col-md-10"> <p><strong>' + 'mpamphs sougias' + '</strong></p><p>' + text
                            +'</p><p class="text-secondary text-center">'+ '@DateTime.Now' + '</p> </div> </div> </div>')
                        $("#commentText").val('');
                    });

            });
        });
    </script>
}

